import Ember from 'ember';
var MySettingsRoute;

MySettingsRoute = Ember.Route.extend({
  beforeModel: function() {
    return this.store.find('faculty');
  },
  model: function() {
    var id;
    id = $.cookie('user_id');
    return this.store.find('user', id);
  },
  afterModel: function(model) {
    if ((model.get('status')) === 'chatting') {
      return this.transitionTo('chat');
    }
  },
  setupController: function(controller, model) {
    controller.set('faculties', this.store.all('faculty'));
    return controller.set('model', model);
  }
});

export default MySettingsRoute;
